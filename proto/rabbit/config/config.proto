syntax = "proto3";

package rabbit.config;

import "google/protobuf/duration.proto";

option go_package = "github.com/aide-family/rabbit/pkg/config;config";

message ClientConfig {
	ClusterConfig cluster = 1;
	string jwtToken = 2;
	ETCDConfig etcd = 3;
	KubernetesConfig kubernetes = 4;
	RegistryType registryType = 5;
}

message ClusterConfig {
	enum Protocol {
		GRPC = 0;
		HTTP = 1;
	}
	string name = 1;
	string endpoints = 2;
	Protocol protocol = 3;
	google.protobuf.Duration timeout = 4;
}

message ETCDConfig {
	string endpoints = 1;
	string username = 2;
	string password = 3;
}

message MySQLConfig {
	string username = 1;
	string password = 2;
	string host     = 3;
	int32 port     = 4;
	string database = 5;
	bool debug = 6;
	bool useSystemLogger = 7;
	map<string, string> parameters = 8;
}

message KubernetesConfig {
	string namespace = 1;
	string kubeConfig = 2;
}

enum RegistryType {
	UNKNOWN = 0;
	ETCD = 1;
	KUBERNETES = 2;
}