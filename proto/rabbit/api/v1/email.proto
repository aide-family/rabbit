syntax = "proto3";

package rabbit.api.v1;

import "google/api/annotations.proto";

option go_package = "github.com/aide-family/rabbit/pkg/api/v1;v1";
option java_multiple_files = true;
option java_package = "rabbit.api.v1";

service Email {
	rpc SendEmail (SendEmailRequest) returns (SendEmailReply) {
		option (google.api.http) = {
			post: "/v1/email/send"
			body: "*"
		};
	}
}

message EmailConfig {
	string host = 1;
	int32 port = 2;
	string username = 3;
	string password = 4;
}

message SendEmailRequest {
	string namespace = 1;
	string subject = 2;
	string body = 3;
	repeated string to = 4;
	repeated string cc = 5;
	string contentType = 6;
	repeated string headers = 7;
	EmailConfig emailConfig = 8;
}

message SendEmailReply {
	string message = 1;
}